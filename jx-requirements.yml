apiVersion: core.jenkins-x.io/v4beta1
kind: Requirements
spec:
  autoUpdate:
    enabled: false
    schedule: ""
  cluster:
    chartRepository: http://jenkins-x-chartmuseum.jx.svc.cluster.local:8080
    clusterName: gke-activiti-nov
    devEnvApprovers:
    - todo
    environmentGitOwner: todo
    gitKind: github
    gitName: github
    gitServer: https://github.com
    gke:
      projectNumber: "922541795636"
    kanikoFlags: --skip-unused-stages --snapshotMode=redo
    project: compute-project-183119
    provider: gke
    registry: gcr.io
    zone: us-west1
  environments:
  - key: dev
    owner: gke-activiti
    repository: jx3-cluster-asm
  - key: staging
  - key: production
  ingress:
    domain: 34.82.59.208.nip.io
    kind: ingress
    namespaceSubDomain: -jx.
    tls:
      email: ""
      enabled: false
      production: true
  kuberhealthy: true
  pipelineUser:
    username: serverless-bot-726
  repository: nexus
  secretStorage: gsm
  storage:
  - name: logs
    url: gs://logs-gke-activiti-nov-3725b981b0c1
  - name: reports
    url: gs://reports-gke-activiti-nov-3725b981b0c1
  - name: repository
    url: gs://repository-gke-activiti-nov-3725b981b0c1
  vault: {}
  webhook: lighthouse
  infrastructure:
    activiti-keycloak:
      keycloak:
        keycloak:
          ingress:
            enabled: true
            path: /
            hosts:
              - "activiti-keycloak.jx-staging.34.82.59.208"
            annotations:
              kubernetes.io/ingress.class: nginx
              nginx.ingress.kubernetes.io/rewrite-target: /
              nginx.ingress.kubernetes.io/configuration-snippet: |
                add_header Access-Control-Allow-Methods "POST, GET, OPTIONS, PUT, PATCH, DELETE";
                add_header Access-Control-Allow-Credentials true;
                add_header Access-Control-Allow-Headers "DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization";
    activiti-cloud-gateway:
      ingress:
        enabled: true
        hostName: "activiti-cloud-gateway.jx-staging.34.82.59.208"
        annotations:
          kubernetes.io/ingress.class: nginx
          nginx.ingress.kubernetes.io/rewrite-target: /
          nginx.ingress.kubernetes.io/enable-cors: true
          nginx.ingress.kubernetes.io/cors-allow-headers: "*"
          nginx.ingress.kubernetes.io/x-forwarded-prefix: true